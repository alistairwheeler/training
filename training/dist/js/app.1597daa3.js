(function(e){function t(t){for(var r,i,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,a=1;a<s.length;a++){var l=s[a];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var r=s("1356"),n=s.n(r);n.a},1356:function(e,t,s){},1731:function(e,t,s){},"17ab":function(e,t,s){"use strict";var r=s("6512"),n=s.n(r);n.a},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{staticClass:"app"},[e.isNavigationDrawerVisible()?s("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-treeview",{attrs:{items:this.$store.getters.treeViewItems,"item-key":"id",activatable:"",color:"warning","open-on-click":"",transition:""},on:{"update:active":function(t){return e.redirectToLesson()}},scopedSlots:e._u([{key:"label",fn:function(t){var r=t.item;return[s("a",{on:{click:function(t){return e.redirectToLesson(r)}}},[e._v(e._s(r.name))])]}}],null,!1,1911419546)})],1):e._e(),s("v-app-bar",{attrs:{app:"",color:"primary",dark:"","clipped-left":""}},[e.isNavigationDrawerVisible()?s("v-app-bar-nav-icon",{on:{click:e.openOrCloseDrawer}}):e._e(),s("v-toolbar-title",{staticClass:"simplicite-logo",attrs:{id:"toolbar-title"},on:{click:function(t){return e.goHome()}}},[e._v("Simplicité")]),s("v-text-field",{staticClass:"ml-12",attrs:{flat:"","solo-inverted":"","hide-details":"","append-icon":"mdi-magnify",placeholder:"Search a keyword ..."}}),s("div",{staticClass:"flex-grow-1"}),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.checkIfRouteIsLesson(),expression:"checkIfRouteIsLesson()"}],attrs:{id:"previous-button",fab:"",icon:""},on:{click:function(t){return e.goToPreviousLesson()}}},[s("v-icon",[e._v("mdi-skip-previous")])],1),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.checkIfRouteIsLesson(),expression:"checkIfRouteIsLesson()"}],attrs:{id:"next-button",fab:"",icon:""},on:{click:function(t){return e.goToNextLesson()}}},[s("v-icon",[e._v("mdi-skip-next")])],1),s("v-toolbar-items",[s("v-btn",{attrs:{text:"",to:"/courses"}},[e._v("Cours")]),s("v-btn",{attrs:{text:"",to:"/lessons"}},[e._v("Leçons")])],1)],1),s("v-content",{staticClass:"content"},[s("v-container",{staticClass:"router-container-2",attrs:{"pa-0":"","mt-1":"",fluid:""},on:{"test-event":function(t){return e.logMessage()}}},[s("router-view",{key:e.$route.fullPath}),s("v-snackbar",{attrs:{id:"snackbar",timeout:e.snbTimeOut},model:{value:e.snackBar,callback:function(t){e.snackBar=t},expression:"snackBar"}},[s("span",{attrs:{id:"snb-text"}},[e._v(" "+e._s(e.snbText)+" ")]),s("v-btn",{attrs:{color:"#F08A7B",text:""},on:{click:function(t){e.snackBar=!1}}},[e._v("FERMER")])],1)],1)],1)],1)},o=[],i={name:"App",components:{},data:()=>({drawer:!1,snackBar:!1,snbTimeOut:1200,snbText:"",treeview:[],sections:[],lessons:[]}),created(){},methods:{openOrCloseDrawer(){this.drawer=!this.drawer},goHome(){console.log("home !"),this.$router.push("/home")},goToPreviousLesson(){let e=this.$store.getters.otherLessonsIDs,t=e.length,s=this.$store.getters.currentLessonId;if(t>=2){let t=e.findIndex(e=>e===s);t>=1?this.$router.push("/lessonItem/"+e[t-1]):(this.shakeElement("previous-button"),this.showSnackBar("Il n'y a plus de leçons dans ce cours"))}else this.shakeElement("previous-button"),this.showSnackBar("Il n'y a qu'une seule leçon dans ce cours")},goToNextLesson(){let e=this.$store.getters.otherLessonsIDs,t=e.length,s=this.$store.getters.currentLessonId;if(t>=2){let r=e.findIndex(e=>e===s);r+1<t?this.$router.push("/lessonItem/"+e[r+1]):(this.shakeElement("next-button"),this.showSnackBar("Il n'y a plus de leçons dans ce cours"))}else this.shakeElement("next-button"),this.showSnackBar("Il n'y a qu'une seule leçon dans ce cours")},redirectToLesson(e){e.children||(console.log("redirecting !"),console.log(e),this.$router.push("/lessonItem/"+e.id))},shakeElement(e){document.getElementById(e).classList.add("animated"),setTimeout((function(){document.getElementById(e).classList.remove("animated")}),150)},hideButtons(){return this.checkIfRouteIsLesson()},isNavigationDrawerVisible(){return this.checkIfRouteIsLesson()},checkIfRouteIsLesson(){return this.$router.currentRoute.path.split("/lessonItem/").length>1},showSnackBar(e){this.snbText=e,this.snackBar=!0}}},a=i,l=(s("034f"),s("2877")),c=s("6544"),d=s.n(c),u=s("7496"),p=s("40dc"),h=s("5bc1"),m=s("8336"),v=s("a523"),f=s("a75b"),g=s("132d"),_=s("f774"),b=s("2db4"),w=s("8654"),L=s("2a7f"),I=s("eb2a"),y=Object(l["a"])(a,n,o,!1,null,null,null),C=y.exports;d()(y,{VApp:u["a"],VAppBar:p["a"],VAppBarNavIcon:h["a"],VBtn:m["a"],VContainer:v["a"],VContent:f["a"],VIcon:g["a"],VNavigationDrawer:_["a"],VSnackbar:b["a"],VTextField:w["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"],VTreeview:I["a"]});var T=s("8c4f"),P=s("f309");r["a"].use(P["a"]);var k=new P["a"]({theme:{themes:{light:{primary:"#387ED1",secondary:"#b0bec5",accent:"#ffffff",error:"#b71c1c"},dark:{primary:"#514FBF",secondary:"#b0bec5",accent:"#ff0011",error:"#b71c1c"}}},icons:{iconfont:"mdi"}}),x=s("2f62"),E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"lesson-item-wrapper"}},[s("div",{staticClass:"lesson-content col-6"},[s("h1",{staticClass:"lesson-title smp-blue"},[s("span",{staticClass:"underlined"},[e._v(e._s(e.displayedLesson.title))])]),s("v-breadcrumbs",{attrs:{items:e.breadCrumbItems,divider:">"}}),e.displayedLesson.learningOutcomes?s("div",{staticClass:"lesson-content__lrn-outcomes"},[s("h2",{staticClass:"section-title"},[e._v("Objectifs Pédagogiques")]),s("div",{attrs:{id:"learning-outcomes-container"},domProps:{innerHTML:e._s(e.displayedLesson.learningOutcomes)}})]):e._e(),e.displayedLesson.genConcepts?s("div",{staticClass:"lesson-concepts"},[s("div",{attrs:{id:"concepts-container"},domProps:{innerHTML:e._s(e.displayedLesson.genConcepts)}})]):e._e(),e.displayedLesson.exercise?s("div",{staticClass:"exercise"},[s("h2",[e._v("Pratiquez !")]),s("div",{attrs:{id:"exercise-displayer"},domProps:{innerHTML:e._s(e.displayedLesson.exercise)}})]):e._e()],1),s("div",{staticClass:"col-6",attrs:{id:"aside-content"}},[s("div",{attrs:{id:"pdf-container"}},[s("embed",{attrs:{src:e.displayedLesson.pdfUrl,type:"application/pdf",width:"100%",height:"100%"}})]),s("div",{attrs:{id:"video-container"}},[s("iframe",{attrs:{width:"100%",height:"100%",src:e.displayedLesson.videoUrl,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])]),s("h1",{attrs:{id:"error-message"}},[e._v("Sorry, we could not load this lesson")])])},V=[];class O{constructor(e,t,s,r,n,o,i,a,l,c,d){this.row_id=e,this.title=t,this.genConcepts=s,this.learningOutcomes=r,this.exercise=n,this.pdfUrl=o,this.videoUrl=i,this.sectionId=a,this.sectionName=l,this.courseId=c,this.courseName=d}static formatFromSimplicite(e){return new O(e.row_id,e.lrnLsnTitle,e.lrnLsnConcepts,e.lrnLsnLearningOutcomes,e.lrnLsnExercice,e.lrnLsnSlides,e.lrnLsnVideo,e.lrnLsnPrtId,e.lrnLsnPrtId__lrnPrtTitle,e.lrnLsnPrtId__lrnPrtPlnId,e.lrnLsnPrtId__lrnPrtPlnId__lrnPlnTitle)}static convertToTreeView(e){return{id:e.row_id,name:e.lrnLsnTitle}}}var D={name:"LessonItem",data:function(){return{displayedLesson:{},breadCrumbItems:[]}},methods:{async fetchLesson(e){return new Promise((t,s)=>{let r=this.$smp.getBusinessObject("LrnLesson");r.get(e=>{e?t(e):s("Could not load the lesson")},e)})},async fetchTreeViewFromCourse(e){return console.log("fetchTreeViewFromCourse"),new Promise((t,s)=>{this.$smp.treeview(e=>{t(e.list)},"lrnTreeView",{service:"page",object:"LrnPlan",rowid:e,child:"LrnPart"})})},convertSmpTreeView(e){let t=e.map(e=>e.item),s=t.map(e=>({id:e.row_id,name:e.lrnPrtTitle,children:[]})),r=e.map(e=>e.links),n=r.map(e=>e[0].list),o=[];n.forEach(e=>{e.forEach(e=>o.push(e.item))});let i=o.map(e=>({id:e.row_id,name:e.lrnLsnTitle,sectionId:e.lrnLsnPrtId,order:e.lrnLsnOrder}));for(let a=0;a<i.length;a++)for(let e=0;e<s.length;e++)i[a].sectionId===s[e].id&&s[e].children.push(i[a]);for(let a=0;a<s.length;a++)s[a].children.sort((e,t)=>e.order-t.order);return this.$store.commit("updateTreeViewItems",s),s},sortLessonIDs(e){let t=[];return e.forEach(e=>{e.children.forEach(e=>t.push(parseInt(e.id)))}),t},displayErrorMessage(){document.getElementById("error-message").style.visibility="visible"}},async created(){let e=this.$route.params.lessonId;await this.fetchLesson(e).then(e=>{return this.displayedLesson=O.formatFromSimplicite(e),this.breadCrumbItems.push({text:e.lrnLsnPrtId__lrnPrtPlnId__lrnPlnTitle,disabled:!1,href:"/lessons/"+e.lrnLsnPrtId__lrnPrtPlnId}),this.breadCrumbItems.push({text:e.lrnLsnPrtId__lrnPrtTitle,disabled:!1,href:"/lessons/"+e.lrnLsnPrtId__lrnPrtPlnId}),this.breadCrumbItems.push({text:e.lrnLsnTitle,disabled:!1}),e},e=>console.log("error fetching lesson")).then(e=>this.fetchTreeViewFromCourse(parseInt(e.lrnLsnPrtId__lrnPrtPlnId)),e=>console.log("error fetching treeView")).then(e=>this.convertSmpTreeView(e),e=>console.log("error converting smpTreeView")).then(e=>this.sortLessonIDs(e),e=>console.log("error sorting IDs")).then(e=>this.$store.commit("setOtherLessonsIDs",e),e=>console.log("error updating store IDs")).then(()=>this.$store.commit("updateCurrentLessonId",parseInt(this.displayedLesson.row_id)),e=>console.log("error updating store current id")).then(()=>document.getElementById("lesson-item-wrapper").style.visibility="visible").catch(e=>this.displayErrorMessage())}},$=D,B=(s("c199"),s("2bc5")),S=Object(l["a"])($,E,V,!1,null,"707d81e2",null),j=S.exports;d()(S,{VBreadcrumbs:B["a"]});var M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"homepage-container"}},[s("div",{attrs:{id:"outer-div"}},[s("div",{staticClass:"row-1"},[e._m(0),s("div",{attrs:{id:"heading"}},[s("h1",{staticClass:"heading__title"},[e._v("Simplicite Software Training Platform")]),s("p",{staticClass:"heading__promotion"},[e._v("\n                    Learn to master the Simplicite platform to help your company build powerful applications, at lightning speed.")]),s("p",{staticClass:"heading__promotion"},[e._v(" This training will help you understand the basics of how\n                    our platform works and teach you the good practices to become a great application designer ")]),s("v-btn",{staticClass:"try-button",attrs:{"x-large":"",outlined:"",link:"",color:"white"},on:{click:function(t){return e.redirectTo("/courses")}}},[e._v("Try It ")])],1)]),s("nav",[s("ul",{staticClass:"nav-links"},[s("li",[s("v-btn",{staticClass:"text-white",attrs:{"x-large":"",link:"",color:"#387ED1"},on:{click:function(t){return e.redirectTo("https://simplicite.fr/")}}},[e._v("Discover our offers ")])],1),s("li",[s("v-btn",{staticClass:"text-white",attrs:{"x-large":"",link:"",color:"#387ED1"},on:{click:function(t){return e.redirectTo("https://docs.simplicite.io/")}}},[e._v(" Read the Documentation")])],1),s("li",[s("v-btn",{staticClass:"text-white",attrs:{"x-large":"",link:"",color:"#387ED1"},on:{click:function(t){return e.redirectTo("https://simplicite.fr/cas-clients/")}}},[e._v("Watch Examples ")])],1)])])])])},R=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"video-wrapper"}},[s("iframe",{attrs:{src:"https://player.vimeo.com/video/359243007",width:"712",height:"400",frameborder:"0",allow:"autoplay; fullscreen",allowfullscreen:""}})])}],A={name:"HomePage",props:{},data:()=>({}),methods:{redirectTo(e){window.location.href=e}}},F=A,N=(s("17ab"),Object(l["a"])(F,M,R,!1,null,"60f2cad6",null)),H=N.exports;d()(N,{VBtn:m["a"]});var q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"lesson-item-wrapper"}},[s("div",{attrs:{id:"wrapper"}},[s("h1",{staticClass:"smp-blue"},[e._v("Tous les cours disponibles :")]),s("div",{staticClass:"course-list-wrapper"},e._l(e.courses,(function(t){return s("v-card",{key:t.row_id,staticClass:"course-prev",on:{click:function(s){return e.redirectToLessons(t.row_id)}}},[s("div",{staticClass:"course-prev__picture-container"},[s("img",{staticClass:"course-prev__picture",attrs:{src:"https://cdn.vuetifyjs.com/images/cards/mountain.jpg",alt:"course logo"}})]),s("div",{staticClass:"course-prev__info-container"},[s("h2",{staticClass:"course-prev__name "},[e._v(e._s(t.lrnPlnTitle))]),s("h3",{staticClass:"course-prev__short-description"},[e._v(e._s(e.getDescription(t.lrnPlnShortDescription)))]),s("p",{staticClass:"course-prev__long-description"},[e._v(e._s(e.getDescription(t.lrnPlnLongDescription)))]),s("v-card-actions",[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{staticClass:"action-btn",attrs:{text:""},on:{click:function(s){return s.stopPropagation(),e.redirectToLessons(t.lrnPlnTitle)}}},[e._v(" Discover ")])],1)],1)])})),1)])])},U=[],J={name:"Courses",props:{},data:function(){return{courses:[]}},methods:{redirectToLessons(e){this.$router.push("/lessons/"+e)},getDescription(e){return"undefined"===typeof e||null===e?"":e.length>0?e:void 0},async fetchCourses(){return new Promise((e,t)=>{let s=this.$smp.getBusinessObject("LrnPlan");s.search(()=>{s.list?e(s.list):t("Could not load the content")},{})})},displayErrorMessage(){}},async created(){console.log("Courses CREATED"),await this.fetchCourses().then(e=>e.map(e=>this.courses.push(e))).catch(()=>this.displayErrorMessage())},destroyed(){this.courses=[],console.log("Courses DESTROYED")}},z=J,W=(s("862c"),s("b0af")),Y=s("99d9"),G=Object(l["a"])(z,q,U,!1,null,"fa4c27b0",null),K=G.exports;d()(G,{VBtn:m["a"],VCard:W["a"],VCardActions:Y["a"]});var Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"lessons-wrapper"}},[s("div",{attrs:{id:"wrapper"}},[s("h1",{staticClass:"smp-blue",attrs:{id:"page-title"}},[e._v("Toutes les leçons disponibles :")]),e.emptyList?s("v-btn",{staticClass:"redirect-button ma-2",attrs:{outlined:"",color:"#387ED1"},on:{click:function(t){return e.redirectToCourses()}}},[e._v("\n            Return to courses\n        ")]):e._e(),s("ul",{attrs:{id:"lesson-list"}},e._l(e.displayedLessons,(function(t){return s("li",{key:t.row_id,staticClass:"lesson-prev",on:{click:function(s){return e.redirectToLesson(t.row_id)}}},[s("a",{attrs:{href:""}},[s("div",{staticClass:"content-wrapper"},[e._m(0,!0),s("div",{staticClass:"information-wrapper"},[s("h2",{staticClass:"lesson-prev__name"},[e._v(e._s(t.lrnLsnTitle))]),s("h3",{staticClass:"lesson-prev__section-name"},[e._v(e._s(t.lrnLsnPrtId__lrnPrtTitle))])])])])])})),0)],1)])},X=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"image-wrapper"},[s("img",{staticClass:"lesson-prev__image",attrs:{src:"https://picsum.photos/510/300?random",alt:"lesson image"}})])}],Z={name:"Lessons",props:{},data:()=>({displayedLessons:[],emptyList:!1}),methods:{redirectToLesson(e){this.$router.push("/lessonItem/"+e)},getCourseColor(){return"course-name-blue"},redirectToCourses(){this.$router.push("/courses")},async fetchAllLessons(){return console.log("fetchAllLessons"),new Promise((e,t)=>{let s=this.$smp.getBusinessObject("LrnLesson");s.search(()=>{s.list?e(s.list):e("Could not load the content")},{})})},async fetchLessonsFromCourseID(e){return new Promise((t,s)=>{let r=this.$smp.getBusinessObject("LrnLesson");r.search(()=>{r.list?(console.log("lessonObject.list"),console.log(r.list),t(r.list)):s("Could not load the content")},{lrnLsnPrtId__lrnPrtPlnId:e})})},displayErrorMessage(){console.log("There was an error with the request")}},async mounted(){if(this.$route.params.courseId){let e=parseInt(this.$route.params.courseId);await this.fetchLessonsFromCourseID(e).then(e=>e.sort((e,t)=>e.lrnLsnOrder-t.lrnLsnOrder)).then(e=>{Array.isArray(e)&&e.length>0?e.forEach(e=>{this.displayedLessons.push(e)}):this.emptyList=!0}).then(()=>{document.getElementById("page-title").innerText="Toutes les leçons disponibles du cours : "+this.displayedLessons[0].lrnLsnPrtId__lrnPrtPlnId__lrnPlnTitle}).catch(()=>this.displayErrorMessage())}else await this.fetchAllLessons().then(e=>e.sort((e,t)=>e.lrnLsnOrder-t.lrnLsnOrder)).then(e=>e.map(e=>this.displayedLessons.push(e))).catch(()=>this.displayErrorMessage())}},ee=Z,te=(s("df79"),Object(l["a"])(ee,Q,X,!1,null,"cba86f9e",null)),se=te.exports;d()(te,{VBtn:m["a"]});const re=[{path:"/",component:H},{path:"/home",component:H},{path:"/courses",component:K},{path:"/lessons",component:se},{path:"/lessons/:courseId/",component:se},{path:"/lessonItem/:lessonId",component:j},{path:"/*",component:H}];var ne=new T["a"]({mode:"history",routes:re});r["a"].use(x["a"]);var oe=new x["a"].Store({state:{currentLessonId:1,otherLessonsIDs:[],treeViewItems:[]},getters:{currentLessonId:e=>{return e.currentLessonId},otherLessonsIDs:e=>{return e.otherLessonsIDs},treeViewItems:e=>{return e.treeViewItems}},mutations:{updateCurrentLessonId(e,t){r["a"].set(e,"currentLessonId",t)},setOtherLessonsIDs(e,t){r["a"].set(e,"otherLessonsIDs",t)},updateTreeViewItems(e,t){r["a"].set(e,"treeViewItems",t)}},actions:{}});r["a"].config.productionTip=!1,r["a"].use(T["a"]),r["a"].use(x["a"]),r["a"].prototype.$smp=new Simplicite.Ajax("https://maxime2.dev.simplicite.io","api","designer","simplicite"),new r["a"]({el:"#app",store:oe,render:e=>e(C),vuetify:k,router:ne}).$mount("#app")},6512:function(e,t,s){},"6e02":function(e,t,s){},"862c":function(e,t,s){"use strict";var r=s("1731"),n=s.n(r);n.a},b9b6:function(e,t,s){},c199:function(e,t,s){"use strict";var r=s("b9b6"),n=s.n(r);n.a},df79:function(e,t,s){"use strict";var r=s("6e02"),n=s.n(r);n.a}});
//# sourceMappingURL=app.1597daa3.js.map